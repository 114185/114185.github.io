<!DOCTYPE html>
<html>
  <head>
    <title>hello world</title>
    <link rel="icon" href="index.html">
  </head>
  <body>
    hello world
 </body>
</html>
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>å°é­šå¤§å†’éšª</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: #003d66; /* æµ·æ´‹è— */
        font-family: Arial, sans-serif;
    }
    canvas {
        display: block;
    }
    #startScreen {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 50, 0.6);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 40px;
    }
    #startBtn {
        font-size: 28px;
        padding: 15px 40px;
        border: none;
        border-radius: 10px;
        background: #ff6666;
        color: white;
        cursor: pointer;
        margin-top: 20px;
    }
    #scoreDisplay {
        position: absolute;
        top: 20px;
        right: 20px;
        color: white;
        font-size: 30px;
    }
</style>
</head>
<body>

<canvas id="game"></canvas>
<div id="startScreen">
    <div>ğŸŸ å°é­šå¤§å†’éšª ğŸŸ</div>
    <button id="startBtn">é–‹å§‹éŠæˆ²</button>
</div>

<div id="scoreDisplay">åˆ†æ•¸ï¼š0</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let keys = {};
let gameStarted = false;
let score = 0;

document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

// --- å°é­šè¨­å®š ---
const fish = {
    x: 150,
    y: canvas.height / 2,
    size: 25,
    speed: 5,
    color: "red"
};

// --- é£Ÿäººé­š ---
const piranha = {
    x: 0,
    y: canvas.height / 2,
    size: 30,
    speed: 2,
    color: "#001f3f"  // æ·±è—è‰²
};

// --- çŠç‘šç¤ ---
let obstacles = [];
function spawnObstacle() {
    let fromTop = Math.random() < 0.5;
    let height = 100 + Math.random() * 200;

    obstacles.push({
        x: canvas.width,
        y: fromTop ? 0 : canvas.height - height,
        width: 40,
        height: height,
        color: "purple",
        speed: 4
    });
}

// è½ä¸‹é–“éš”
let obstacleTimer = setInterval(() => {
    if (gameStarted) spawnObstacle();
}, 2000);

// --- éŠæˆ²ä¸»è¿´åœˆ ---
function gameLoop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    if (gameStarted) {
        moveFish();
        movePiranha();
        moveObstacles();
        drawFish();
        drawPiranha();
        drawObstacles();
        updateScore();
        checkCollision();
    }

    requestAnimationFrame(gameLoop);
}

// --- ç§»å‹•é‚è¼¯ ---
function moveFish() {
    if (keys["ArrowUp"]) fish.y -= fish.speed;
    if (keys["ArrowDown"]) fish.y += fish.speed;
    if (keys["ArrowLeft"]) fish.x -= fish.speed;
    if (keys["ArrowRight"]) fish.x += fish.speed;

    fish.x = Math.max(0, Math.min(canvas.width, fish.x));
    fish.y = Math.max(0, Math.min(canvas.height, fish.y));
}

function movePiranha() {
    if (piranha.x < fish.x - 150) piranha.x += piranha.speed;
    if (piranha.y < fish.y) piranha.y += 1.2;
    if (piranha.y > fish.y) piranha.y -= 1.2;
}

function moveObstacles() {
    obstacles.forEach(o => o.x -= o.speed);
    obstacles = obstacles.filter(o => o.x + o.width > 0);
}

// --- ç¹ªåœ– ---
function drawFish() {
    ctx.fillStyle = fish.color;
    ctx.beginPath();
    ctx.arc(fish.x, fish.y, fish.size, 0, Math.PI * 2);
    ctx.fill();
}

function drawPiranha() {
    ctx.fillStyle = piranha.color;
    ctx.beginPath();
    ctx.arc(piranha.x, piranha.y, piranha.size, 0, Math.PI * 2);
    ctx.fill();
}

function drawObstacles() {
    obstacles.forEach(o => {
        ctx.fillStyle = o.color;
        ctx.fillRect(o.x, o.y, o.width, o.height);
    });
}

// --- åˆ†æ•¸ç³»çµ± ---
function updateScore() {
    score += 0.05;   // æŒçºŒå‘å‰æ¸¸å°±åŠ åˆ†
    document.getElementById("scoreDisplay").innerText =
        "åˆ†æ•¸ï¼š" + Math.floor(score);
}

// --- ç¢°æ’åˆ¤å®š ---
function checkCollision() {
    let dx = fish.x - piranha.x;
    let dy = fish.y - piranha.y;
    let dist = Math.sqrt(dx * dx + dy * dy);

    if (dist < fish.size + piranha.size) {
        gameOver("è¢«é£Ÿäººé­šæŠ“åˆ°äº†ï¼");
    }

    obstacles.forEach(o => {
        if (
            fish.x + fish.size > o.x &&
            fish.x - fish.size < o.x + o.width &&
            fish.y + fish.size > o.y &&
            fish.y - fish.size < o.y + o.height
        ) {
            gameOver("æ’åˆ°çŠç‘šç¤äº†ï¼");
        }
    });
}

function gameOver(msg) {
    alert(msg + "\næœ€çµ‚åˆ†æ•¸ï¼š" + Math.floor(score));
    location.reload();
}

// --- é–‹å§‹éŠæˆ²æŒ‰éˆ• ---
document.getElementById("startBtn").onclick = () => {
    document.getElementById("startScreen").style.display = "none";
    gameStarted = true;
};

gameLoop();
</script>
</body>
</html>
