<!DOCTYPE html>
<html>
  <head>
    <title>hello world</title>
    <link rel="icon" href="index.html">
  </head>
  <body>
    hello world
 </body>
</html>
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>恐龍遊戲</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="game-container">

    <button id="mode-btn">模式切換</button>

    <div id="mode-menu" class="hidden">
        <button class="mode-option" data-mode="normal">一般模式</button>
        <button class="mode-option" data-mode="reverse">倒退嚕</button>
        <button class="mode-option" data-mode="enemy-jump">敵人會跳</button>
        <button class="mode-option" data-mode="christmas">聖誕節模式</button>
    </div>

    <div id="score">Score: 0</div>

    <img id="dino" src="images/dino.png">

    <img id="cactus" src="images/cactus.png">

    <div id="game-over" class="hidden">
        <p>Game Over</p>
        <button id="restart-btn">重新開始</button>
    </div>

</div>

<script src="game.js"></script>
</body>
</html>
body {
    background: #ececec;
    display: flex;
    justify-content: center;
    margin-top: 50px;
    font-family: Arial;
}

#game-container {
    width: 900px;
    height: 300px;
    background: white;
    border: 2px solid black;
    position: relative;
    overflow: hidden;
}

/* ===== Dino ===== */
#dino {
    width: 60px;
    position: absolute;
    bottom: 0;
    left: 60px;
    image-rendering: pixelated;
    transition: transform 0.2s;
}

/* ===== Cactus ===== */
#cactus {
    width: 40px;
    position: absolute;
    bottom: 0;
    left: 900px;
    image-rendering: pixelated;
}

/* ===== UI ===== */
#mode-btn {
    position: absolute;
    right: 10px;
    bottom: 10px;
}

#mode-menu {
    position: absolute;
    bottom: 50px;
    right: 10px;
    background: #ddd;
    padding: 10px;
    border: 1px solid black;
}

.hidden { display: none; }

#score {
    position: absolute;
    top: 10px;
    left: 10px;
}

#game-over {
    position: absolute;
    width: 100%;
    height: 100%;
    background: rgba(255,255,255,0.8);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 32px;
}
let dino = document.getElementById("dino");
let cactus = document.getElementById("cactus");
let scoreText = document.getElementById("score");
let gameOverScreen = document.getElementById("game-over");
let restartBtn = document.getElementById("restart-btn");

let modeBtn = document.getElementById("mode-btn");
let modeMenu = document.getElementById("mode-menu");
let modes = document.querySelectorAll(".mode-option");

let mode = "normal";

let isJumping = false;
let cactusJumping = false;
let score = 0;
let speed = 7;
let gameRunning = true;

/* ===== Dino Jump ===== */
function jump() {
    if (isJumping || mode === "enemy-jump") return;

    isJumping = true;
    let upInterval = setInterval(() => {
        let bottom = parseInt(window.getComputedStyle(dino).bottom);
        if (bottom >= 130) {
            clearInterval(upInterval);
            let downInterval = setInterval(() => {
                bottom = parseInt(window.getComputedStyle(dino).bottom);
                if (bottom <= 0) {
                    clearInterval(downInterval);
                    isJumping = false;
                } else {
                    dino.style.bottom = bottom - 5 + "px";
                }
            }, 20);
        } else {
            dino.style.bottom = bottom + 5 + "px";
        }
    }, 20);
}

/* ===== Enemy Jump Mode ===== */
function cactusJump() {
    if (cactusJumping || mode !== "enemy-jump") return;

    cactusJumping = true;
    let up = setInterval(() => {
        let bottom = parseInt(window.getComputedStyle(cactus).bottom);
        if (bottom >= 120) {
            clearInterval(up);
            let down = setInterval(() => {
                bottom = parseInt(window.getComputedStyle(cactus).bottom);
                if (bottom <= 0) {
                    clearInterval(down);
                    cactusJumping = false;
                } else {
                    cactus.style.bottom = bottom - 5 + "px";
                }
            }, 20);
        } else {
            cactus.style.bottom = bottom + 5 + "px";
        }
    }, 20);
}

/* ===== Keyboard ===== */
document.addEventListener("keydown", (e) => {
    if (!gameRunning) return;
    if (e.code === "Space") {
        if (mode === "enemy-jump") cactusJump();
        else jump();
    }
});

/* ===== Main Loop ===== */
function gameLoop() {
    if (!gameRunning) return;

    let cactusLeft = parseInt(window.getComputedStyle(cactus).left);
    let dinoBottom = parseInt(window.getComputedStyle(dino).bottom);

    cactus.style.left = cactusLeft - speed + "px";

    if (cactusLeft < -50) {
        cactus.style.left = "900px";
        cactus.style.bottom = "0px";
        score++;
        scoreText.textContent = "Score: " + score;
        speed += 0.3;
    }

    // Collision
    if (cactusLeft < 110 && cactusLeft > 60 && dinoBottom < 40) {
        endGame();
    }

    requestAnimationFrame(gameLoop);
}

/* ===== Game Over ===== */
function endGame() {
    gameRunning = false;
    gameOverScreen.classList.remove("hidden");
}

/* ===== Restart ===== */
restartBtn.addEventListener("click", () => {
    gameRunning = true;
    gameOverScreen.classList.add("hidden");
    score = 0;
    speed = 7;
    cactus.style.left = "900px";
    cactus.style.bottom = "0px";
    dino.style.bottom = "0px";
    gameLoop();
});

/* ===== Mode Switch ===== */
modeBtn.addEventListener("click", () => {
    modeMenu.classList.toggle("hidden");
});

modes.forEach(btn => {
    btn.addEventListener("click", () => {
        mode = btn.dataset.mode;

        // Reverse
        if (mode === "reverse") {
            dino.style.transform = "scaleX(-1)";
        } else {
            dino.style.transform = "scaleX(1)";
        }

        // Christmas Mode
        if (mode === "christmas") {
            dino.src = "images/dino_christmas.png";
            cactus.src = "images/tree.png";
        } else {
            dino.src = "images/dino.png";
            cactus.src = "images/cactus.png";
        }

        modeMenu.classList.add("hidden");
    });
});

gameLoop();
project/
 ├ index.html
 ├ style.css
 ├ game.js
 └ images/
      ├ dino.png              （恐龍）
      ├ cactus.png            （仙人掌）
      ├ dino_christmas.png    （戴聖誕帽的恐龍）
      ├ tree.png              （聖誕樹）
